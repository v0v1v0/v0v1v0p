<div class="container"><main><table style="width: 100%;"><tr>
<td>forceSymmetric-methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Force a Matrix to 'symmetricMatrix' Without Symmetry Checks</h2>

<h3>Description</h3>

<p>Force a square matrix <code>x</code> to a <code>symmetricMatrix</code>,
<b>without</b> a symmetry check as it would be applied for <code>as(x,
    "symmetricMatrix")</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">forceSymmetric(x, uplo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr>
<td><code id="x">x</code></td>
<td>
<p>any square matrix (of numbers), either <U+201C>"traditional"<U+201D>
(<code>matrix</code>) or inheriting from
<code>Matrix</code>.</p>
</td>
</tr>
<tr>
<td><code id="uplo">uplo</code></td>
<td>
<p>optional string, <code>"U"</code> or <code>"L"</code> indicating which
<U+201C>triangle<U+201D> half of <code>x</code> should determine the result.  The
default is <code>"U"</code> unless <code>x</code> already has a <code>uplo</code> slot
(i.e., when it is <code>symmetricMatrix</code>, or
<code>triangularMatrix</code>), where the default will be
<code>x@uplo</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a square matrix inheriting from class
<code>symmetricMatrix</code>.
</p>


<h3>See Also</h3>

<p><code>symmpart</code> for the symmetric part of a matrix, or
the coercions <code>as(x, &lt;symmetricMatrix class&gt;)</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"> ## Hilbert matrix
 i &lt;- 1:6
 h6 &lt;- 1/outer(i - 1L, i, "+")
 sd &lt;- sqrt(diag(h6))
 hh &lt;- t(h6/sd)/sd # theoretically symmetric
 isSymmetric(hh, tol=0) # FALSE; hence
 try( as(hh, "symmetricMatrix") ) # fails, but this works fine:
 H6 &lt;- forceSymmetric(hh)

 ## result can be pretty surprising:
 (M &lt;- Matrix(1:36, 6))
 forceSymmetric(M) # symmetric, hence very different in lower triangle
 (tm &lt;- tril(M))
 forceSymmetric(tm)
</code></pre>

</main></div>